{"version":3,"file":"_condition.js","sources":["../../js/_condition.js"],"sourcesContent":["jQuery(function($){\r\n    $(document).ready(function () {\r\n        var condition_object='select, input[type=\"radio\"]:checked, input[type=\"text\"], input[type=\"hidden\"], input.ot-numeric-slider-hidden-input,input[type=\"checkbox\"]';\r\n        // condition function to show and hide sections\r\n        $('.main-content').on( 'change.conditionals', condition_object, function(e) {\r\n            run_condition_engine();\r\n        });\r\n        run_condition_engine();\r\n        function run_condition_engine(){\r\n            $('[data-condition]').each(function() {\r\n                var passed;\r\n                var conditions = get_match_condition( $( this ).data( 'condition' ) );\r\n                var operator = ( $( this ).data( 'operator' ) || 'and' ).toLowerCase();\r\n\r\n                $.each( conditions, function( index, condition ) {\r\n\r\n                    var target   = $( '[name='+ condition.check+']' );\r\n\r\n                    var targetEl = !! target.length && target.first();\r\n\r\n                    if ( ! target.length || ( ! targetEl.length && condition.value.toString() != '' ) ) {\r\n                        return;\r\n                    }\r\n\r\n                    var v1 = targetEl.length ? targetEl.val().toString() : '';\r\n                    var v2 = condition.value.toString();\r\n\r\n                    var result;\r\n\r\n                    if(targetEl.length && targetEl.attr('type')=='radio'){\r\n                        v1 = $( '[name='+ condition.check+']:checked').val();\r\n                    }\r\n                    if(targetEl.length && targetEl.attr('type')=='checkbox'){\r\n                        v1=targetEl.is(':checked')?v1:'';\r\n                    }\r\n\r\n                    switch ( condition.rule ) {\r\n                        case 'less_than':\r\n                            result = ( parseInt( v1 ) < parseInt( v2 ) );\r\n                            break;\r\n                        case 'less_than_or_equal_to':\r\n                            result = ( parseInt( v1 ) <= parseInt( v2 ) );\r\n                            break;\r\n                        case 'greater_than':\r\n                            result = ( parseInt( v1 ) > parseInt( v2 ) );\r\n                            break;\r\n                        case 'greater_than_or_equal_to':\r\n                            result = ( parseInt( v1 ) >= parseInt( v2 ) );\r\n                            break;\r\n                        case 'contains':\r\n                            result = ( v1.indexOf(v2) !== -1 ? true : false );\r\n                            break;\r\n                        case 'is':\r\n                            result = ( v1 == v2 );\r\n                            break;\r\n                        case 'not':\r\n                            result = ( v1 != v2 );\r\n                            break;\r\n                    }\r\n\r\n                    if ( 'undefined' == typeof passed ) {\r\n                        passed = result;\r\n                    }\r\n\r\n                    switch ( operator ) {\r\n                        case 'or':\r\n                            passed = ( passed || result );\r\n                            break;\r\n                        case 'and':\r\n                        default:\r\n                            passed = ( passed && result );\r\n                            break;\r\n                    }\r\n\r\n                });\r\n\r\n                if ( passed ) {\r\n                    $(this).show();\r\n                } else {\r\n                    $(this).hide();\r\n                }\r\n\r\n                passed = undefined;\r\n            });\r\n        }\r\n\r\n        function get_match_condition(condition){\r\n            var match;\r\n            var regex = /(.+?):(is|not|contains|less_than|less_than_or_equal_to|greater_than|greater_than_or_equal_to)\\((.*?)\\),?/g;\r\n            var conditions = [];\r\n\r\n            while( match = regex.exec( condition ) ) {\r\n                conditions.push({\r\n                    'check': match[1],\r\n                    'rule':  match[2],\r\n                    'value': match[3] || ''\r\n                });\r\n            }\r\n\r\n            return conditions;\r\n        }\r\n        // Please do not edit condition section if you don't understand what it is\r\n\r\n    });\r\n});"],"names":["$","condition_object","run_condition_engine","passed","conditions","get_match_condition","operator","index","condition","target","targetEl","v1","v2","result","match","regex"],"mappings":"AAAA,OAAO,SAASA,EAAE,CACdA,EAAE,QAAQ,EAAE,MAAM,UAAY,CAC1B,IAAIC,EAAiB,6IAErBD,EAAE,eAAe,EAAE,GAAI,sBAAuBC,EAAkB,SAAS,EAAG,CACxEC,GACJ,CAAC,EACDA,IACA,SAASA,GAAsB,CAC3BF,EAAE,kBAAkB,EAAE,KAAK,UAAW,CAClC,IAAIG,EACAC,EAAaC,EAAqBL,EAAG,IAAI,EAAG,KAAM,WAAW,GAC7DM,GAAaN,EAAG,IAAI,EAAG,KAAM,UAAU,GAAM,OAAQ,cAEzDA,EAAE,KAAMI,EAAY,SAAUG,EAAOC,EAAY,CAE7C,IAAIC,EAAWT,EAAG,SAAUQ,EAAU,MAAM,KAExCE,EAAW,CAAC,CAAED,EAAO,QAAUA,EAAO,QAE1C,GAAK,GAAEA,EAAO,QAAY,CAAEC,EAAS,QAAUF,EAAU,MAAM,YAAc,IAI7E,KAAIG,EAAKD,EAAS,OAASA,EAAS,MAAM,SAAQ,EAAK,GACnDE,EAAKJ,EAAU,MAAM,SAAQ,EAE7BK,EASJ,OAPGH,EAAS,QAAUA,EAAS,KAAK,MAAM,GAAG,UACzCC,EAAKX,EAAG,SAAUQ,EAAU,MAAM,WAAW,EAAE,OAEhDE,EAAS,QAAUA,EAAS,KAAK,MAAM,GAAG,aACzCC,EAAGD,EAAS,GAAG,UAAU,EAAEC,EAAG,IAGzBH,EAAU,KAAI,CACnB,IAAK,YACDK,EAAW,SAAUF,CAAE,EAAK,SAAUC,CAAE,EACxC,MACJ,IAAK,wBACDC,EAAW,SAAUF,CAAE,GAAM,SAAUC,CAAE,EACzC,MACJ,IAAK,eACDC,EAAW,SAAUF,CAAE,EAAK,SAAUC,CAAE,EACxC,MACJ,IAAK,2BACDC,EAAW,SAAUF,CAAE,GAAM,SAAUC,CAAE,EACzC,MACJ,IAAK,WACDC,EAAWF,EAAG,QAAQC,CAAE,IAAM,GAC9B,MACJ,IAAK,KACDC,EAAWF,GAAMC,EACjB,MACJ,IAAK,MACDC,EAAWF,GAAMC,EACjB,KAC5B,CAMoB,OAJoB,OAAOT,EAAtB,MACDA,EAASU,GAGJP,EAAQ,CACb,IAAK,KACDH,EAAWA,GAAUU,EACrB,MACJ,IAAK,MACL,QACIV,EAAWA,GAAUU,EACrB,KAC5B,EAEgB,CAAC,EAEIV,EACDH,EAAE,IAAI,EAAE,OAERA,EAAE,IAAI,EAAE,OAGZG,EAAS,MACb,CAAC,CACL,CAEA,SAASE,EAAoBG,EAAU,CAKnC,QAJIM,EACAC,EAAQ,4GACRX,EAAa,CAAA,EAEVU,EAAQC,EAAM,KAAMP,CAAS,GAChCJ,EAAW,KAAK,CACZ,MAASU,EAAM,CAAC,EAChB,KAASA,EAAM,CAAC,EAChB,MAASA,EAAM,CAAC,GAAK,EACzC,CAAiB,EAGL,OAAOV,CACX,CAGJ,CAAC,CACL,CAAC"}